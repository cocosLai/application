/*
{
   "userAccountId": "UserAccounts/1398",
   "origin": "Sample Message",
   "destination": "07700378713",
   "messageContents": "This is a test message...",
   "hasRead": false,
   "status": 0,
   "statusLastUpdated": "2016-06-28T10:27:00.143336",
   "snmpSentDate": null,
   "networkReceivedDate": null,
   "timestamp": "2016-06-28T10:27:00.143336",
   "id": "messages/1633",
   "idInt": 1633
 }
*/



<ion-view title="Messages" id="page2" class=" ">
    <ion-content padding="true" class="has-header">
      <pre am-time-ago="today()"></pre>
      <pre am-time-ago="yesterday()"></pre>

        <div ng-repeat="messagePerDate in messagesToFilter() | filter:filterDates | orderBy:'-utc'">
            <h5 ng-if="messagePerDate.utc === today()" am-time-ago="today()"></h5>
            <h5 ng-if="messagePerDate.utc != today()">{{messagePerDate.utc}}</h5>
            <ion-list id="messages-list4" class=" " can-swipe="true" >
              <!-- <ion-item class="item-icon-left  " id="messages-list-item8" ng-repeat="message in messages" ui-sref="tabsController.messages.detail({ id: message.idInt })"> -->
                <ion-item class="item-icon-left  " id="messages-list-item8" ng-repeat="message in messages | filter:{utc: messagePerDate.utc}" ui-sref="tabsController.messagedetail({ id: message.idInt })">
                    <i class="icon ion-ionic"></i>{{message.origin}}<br />{{message.messageContents}}
                    <ion-option-button class="button-assertive" ng-click="deleteMessage($index)">
                      Delete
                    </ion-option-button>
                </ion-item>
            </ion-list>
        </div>

    </ion-content>
</ion-view>
